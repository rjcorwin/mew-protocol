space:
  id: "{{SPACE_NAME}}"
  name: "Scenario 12 - Stream Lifecycle Controls"
  description: "Validate stream request, open, and close envelopes"

participants:
  control-agent:
    type: local
    tokens: ["control-token"]
    auto_start: true
    command: "node"
    args:
      - "./.mew/agents/control-agent.cjs"
      - "--gateway"
      - "ws://localhost:${PORT}"
      - "--space"
      - "{{SPACE_NAME}}"
      - "--token"
      - "control-token"
      - "--log"
      - "./logs/control-agent.log"
    capabilities:
      - kind: "chat"
      - kind: "stream/*"
      - kind: "participant/status"
      - kind: "system/*"

  test-client:
    tokens: ["test-token"]
    capabilities:
      - kind: "chat"
      - kind: "stream/*"
      - kind: "participant/*"
      - kind: "system/*"
      - kind: "participant/status"
    output_log: "./logs/test-client-output.log"
    auto_connect: true

defaults:
  capabilities:
    - kind: "chat"
