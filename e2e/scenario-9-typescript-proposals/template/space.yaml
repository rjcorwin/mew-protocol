space:
  id: "{{SPACE_NAME}}"
  name: "Scenario 9 - TypeScript Proposals"
  description: "Test proposal fulfilment workflow for TypeScript agent"

participants:
  typescript-agent:
    type: local
    tokens: ["ts-agent-token"]
    auto_start: true
    command: "node"
    args:
      - "../../../dist/agent/index.js"
      - "--gateway"
      - "ws://localhost:${PORT}"
      - "--space"
      - "{{SPACE_NAME}}"
      - "--token"
      - "ts-agent-token"
      - "--id"
      - "typescript-agent"
      - "--no-sample-tools"
    capabilities:
      - kind: "chat"
      - kind: "mcp/proposal"
      - kind: "mcp/response"
      - kind: "mcp/request"
        payload:
          method: "!tools/call"
      - kind: "mcp/request"
        payload:
          method: "tools/list"
      - kind: "reasoning/*"
    env:
      MEW_AGENT_CONFIG: '{"mockLLM":true,"autoRespond":true}'

  fulfiller-agent:
    type: local
    tokens: ["fulfiller-token"]
    auto_start: true
    command: "node"
    args:
      - "./.mew/agents/calculator-participant.js"
      - "--gateway"
      - "ws://localhost:${PORT}"
      - "--space"
      - "{{SPACE_NAME}}"
      - "--token"
      - "fulfiller-token"
      - "--id"
      - "fulfiller-agent"
    capabilities:
      - kind: "mcp/request"
      - kind: "mcp/response"
      - kind: "chat"
      - kind: "system/*"

  test-client:
    tokens: ["test-token"]
    capabilities:
      - kind: "chat"
      - kind: "mcp/request"
        payload:
          method: "tools/*"
      - kind: "mcp/response"
      - kind: "capability/grant"
      - kind: "system/*"
    output_log: "./logs/test-client-output.log"
    auto_connect: true

defaults:
  capabilities:
    - kind: "chat"
