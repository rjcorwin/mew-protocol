# Test scenario for capability grant workflow
# Tests: proposal → fulfill with grant → direct request with granted capability

space:
  id: scenario-8-grant
  name: "Capability Grant Workflow Test"
  description: "Tests granting capabilities and subsequent direct requests"

participants:
  human:
    capabilities:
      - kind: "mcp/*"
      - kind: "capability/*"
      - kind: "chat"
    token: "human-token"

  test-agent:
    capabilities:
      - kind: "mcp/proposal"
      - kind: "mcp/response"
      - kind: "chat"
    command: "node"
    args: ["agent.js"]
    token: "agent-token"
    auto_start: true

  file-server:
    capabilities:
      - kind: "mcp/response"
      - kind: "chat"
    command: "node"
    args: ["file-server.js"]
    token: "file-server-token"
    auto_start: true